TIMER EQU 10H
PIC EQU 20H
PIO EQU 30H
ID_CLK EQU 10

ORG 40; 10 * 4
  DW RUT_CLK

ORG 3000H
  RUT_CLK: NOP
  MOV AL, [BX]
  OUT PIO+1, AL
  INC BX
  DEC CL
  MOV AL, 0
  OUT TIMER, AL
  MOV AL, 20H
  OUT PIC, AL
  IRET

ORG 1000H
  CODIGO DB  "VIOLINI"
  FIN DB ?

ORG 2000H
  MOV CL, OFFSET FIN - OFFSET CODIGO
  MOV BX, OFFSET CODIGO
CLI
  ;CONFIGURAR PIC
  MOV AL, 11111101B; 0FDH
  OUT PIC+1, AL; IMR
  MOV AL, ID_CLK
  OUT PIC+5, AL
  ;CONFIGURAR TIMER
  MOV AL, 1
  OUT TIMER+1, AL; COMP
  ;CONFIGURAR LAS LUCES
  MOV AL, 00H
  OUT PIO+3, AL
  MOV AL, 0
  OUT TIMER, AL; CONT
STI

;LOOPEAR HASTA QUE SE HAYAN IMPRESO TODOS LOS CHARS
LOOP: CMP CL, 0
JNZ LOOP

;DESHABILITAR EL TIMER DEL IMR
MOV AL, 0FFH
OUT PIC+1, AL
;TERMINO EL PROGRAMA
INT 0
END
